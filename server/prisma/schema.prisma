// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
model Users{

  id                      Int @id @default(autoincrement())
  username                String
  email                   String @unique
  password                String
  bio                     String
  profile                 String
  createdAt               DateTime @default(now())
  updatedAt               DateTime @default(now())
  recipe Recipes[]
  comment Comments[]
  rating Ratings[]

}

model Recipes{

  id                       Int @id @default(autoincrement())
  userId                   Int
  title                    String
  description              String
  cookingInst              String
  nutritionInfo            Json
  createdAt                DateTime @default(now())
  updatedAt                DateTime @default(now())
  user Users               @relation(fields: [userId],references: [id])
  comment Comments[]
  rating Ratings[]     
  ingredient Ingredients[]
}

model Comments{

  id                        Int @id @default(autoincrement())
  userId                    Int
  recipeId                  Int
  recipeComment             String
  createdAt                 DateTime @default(now())
  updatedAt                 DateTime @default(now())
  user Users                @relation(fields: [userId],references: [id])
  recipe Recipes            @relation(fields: [recipeId],references: [id])

}

model Ratings {

  id                         Int @id @default(autoincrement())
  userId                     Int
  recipeId                   Int
  recipeRating               Float
  createdAt                  DateTime @default(now())
  updatedAt                  DateTime @default(now())
  user Users                 @relation(fields: [userId],references: [id])
  recipe Recipes             @relation(fields: [recipeId],references: [id])

}


model Ingredients{

  id                          Int @id @default(autoincrement())
  ingredientName              String
  userId                      Int
  recipeId                    Int
  createdAt                   DateTime @default(now())
  updatedAt                   DateTime @default(now())
  recipe Recipes              @relation(fields: [recipeId], references: [id])

}